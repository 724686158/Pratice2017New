
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Bootstrap e-Commerce Theme</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <!--<script src="js/test.js"></script>-->
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <link href="css/style.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">

      <div class="masthead">
        <h3 class="muted">Store Title</h3>
        <div class="navbar">
          <div class="navbar-inner">
            <div class="container">
              <ul class="nav">
                <li class="active"><a href="index.html">主页</a></li>
                
                <li><a href="checkout.html">结账</a></li>
                <li><a href="new.html">创建订单</a></li>
                <li><a href="status.html">订单状态</a></li>

                <li class="dropdown">
				  <a class="dropdown-toggle" data-toggle="dropdown" href="#">
				    分类
				    <b class="caret"></b>
				  </a>
				  <ul class="dropdown-menu">
				    <li class="nav-header">男士</li>
				    <li><a href="list.html">衣服</a></li>
				    <li><a href="list.html">鞋</a></li>
				    <li><a href="list.html">手表</a></li>
				    <li><a href="list.html">珠宝</a></li>
				    <li class="divider"></li>
				    <li class="nav-header">女士</li>
				    <li><a href="list.html">衣服</a></li>
				    <li><a href="list.html">鞋</a></li>
				    <li><a href="list.html">手表</a></li>
				    <li><a href="list.html">珠宝</a></li>
				  </ul>
				</li>

                <li class="dropdown">
				  <a class="dropdown-toggle" data-toggle="dropdown" href="#">
				    Pages
				    <span class="caret"></span>
				  </a>
				  <ul class="dropdown-menu">
				    <li><a href="aboutus.html">关于我们</a></li>
				    <li><a href="contactus.html">联系我们</a></li>
				  </ul>
				</li>

              </ul>
            </div>
          </div>
        </div><!-- /.navbar -->
      </div>

      <!-- Example row of columns -->
      <div class="row-fluid">
        
      </div>
      <script>
				function ini(name, price, img, discount, desciption){
						var str='<li class="span3">'+
			            '<div class="thumbnail">'+
			            '<img src="'+img+'">'+
			            '<div class="caption">'+
			            '<h3>'+name+'</h3>'+
			            '<p>价格：'+price+'</p>'+
			            '<p>折扣：'+discount+'</p>'+
			            '<p>描述：'+desciption+'</p>'+
			            '<p><a href="checkout.html" class="btn btn-primary">Add To Cart</a> <a href="view.html" class="btn">View</a></p>'+
			            '</div>'+
			            '</div>'+
			          	'</li>';
			          	return str;
					}
                    $.get(url="http://localhost:38080/products", function(e){
                        var name;
                        var price;
                        var img;
                        var discount;
                        var description;
                        var i=1;
                        var j=0;
                        for(var i=0;i<e.length;i++) {
                            var obj=e[i];
                            for (var key in obj){//遍历键值对
                                console.log(obj[key]);
                                if(j==1){
                                    name=obj[key];
                                }else if(j==2){
                                    price=obj[key];
                                }else if(j==3){
                                    img=obj[key];
                                }else if(j==4){
                                		discount=obj[key];
                                }else if(j==5){
                                		description=obj[key];
	                                	if(i==0||i%4==0){
	                                        var str='<ul class="thumbnails" id=id_'+i+'>'+
	                                                ini(name,price,img,discount,description)+
	                                                '</ul>';
	                                        var id_="id_"+i;
	                                        $(".row-fluid").append(str);
	                                    }else{
	                                        str=ini(name,price,img,discount,description);
	                                        $("#"+id_).append(str);
	                                    }
	                                	j=-1;
                                }
                                j++;
                            }
                        }
                    });
						/*
						$.each(obj,function(key){//遍历json对象的键值对     						
							console.log(key+":"+obj[key]);
						}); */
			</script>
      <hr>

      <div class="footer">
        <p>&copy; Company 2014</p>
      </div>

    </div> <!-- /container -->

  </body>
</html>
